<mat-card>
  <mat-card-title>Alterar Produto</mat-card-title>

  <form #produtoForm="ngForm" (ngSubmit)="updateProduct()">

    <mat-form-field appearance="outline">
      <mat-label>Nome do Produto*</mat-label>
      <input matInput
             [(ngModel)]="product.proNome"
             name="proNome"
             required
             #proNome="ngModel">
      <mat-error *ngIf="proNome.invalid && proNome.touched">
        Nome do Produto é obrigatório.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Preço do Custo (R$)*</mat-label>
      <input matInput
             type="number"
             [(ngModel)]="product.proPrecoCusto"
             name="proPrecoCusto"
             required
             #proPrecoCusto="ngModel"
             min="0">
      <mat-error *ngIf="proPrecoCusto.invalid && proPrecoCusto.touched">
        Preço do Custo é obrigatório e não pode ser negativo.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Preço de Venda (R$)*</mat-label>
      <input matInput
             type="number"
             [(ngModel)]="product.proPrecoVenda"
             name="proPrecoVenda"
             required
             #proPrecoVenda="ngModel"
             min="0">
      <mat-error *ngIf="proPrecoVenda.invalid && proPrecoVenda.touched">
        Preço de Venda é obrigatório e não pode ser negativo.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Quantidade*</mat-label>
      <input matInput
             type="number"
             [(ngModel)]="product.proQuantidade"
             name="proQuantidade"
             required
             #proQuantidade="ngModel"
             min="0">
      <mat-error *ngIf="proQuantidade.invalid && proQuantidade.touched">
        Quantidade é obrigatória e não pode ser negativa.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Descrição*</mat-label>
      <input matInput
             [(ngModel)]="product.proDescricao"
             name="proDescricao"
             required
             #proDescricao="ngModel">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Código de Barras*</mat-label>
      <input matInput
             type="text"
             maxlength="13"
             [(ngModel)]="product.proCodigoBarras"
             name="proCodigoBarras"
             required
             #proCodigoBarras="ngModel">
      <mat-error *ngIf="proCodigoBarras.invalid && proCodigoBarras.touched">
        Código de Barras é obrigatório e deve ter no máximo 13 caracteres.
      </mat-error>
    </mat-form-field>

<mat-form-field appearance="outline">
  <mat-label>Marca*</mat-label>
  <mat-select [(ngModel)]="selectedMarcaId" name="marca" required #marca="ngModel">
    <mat-option *ngFor="let m of marcas" [value]="m.marId">
      {{ m.marNome }}
    </mat-option>
  </mat-select>
  <mat-error *ngIf="marca.invalid && marca.touched">
    Marca é obrigatória.
  </mat-error>
</mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Categoria*</mat-label>
      <input matInput
             [(ngModel)]="product.proCategoria"
             name="proCategoria"
             required
             #proCategoria="ngModel">
      <mat-error *ngIf="proCategoria.invalid && proCategoria.touched">
        Categoria é obrigatória.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Status do Produto</mat-label>
      <mat-select
        [(ngModel)]="product.proAtivo"
        name="proAtivo"
        required
        #proAtivo="ngModel">
        <mat-option [value]="true">Ativo</mat-option>
        <mat-option [value]="false">Inativo</mat-option>
      </mat-select>
      <mat-error *ngIf="proAtivo.invalid && proAtivo.touched">
        Status é obrigatório.
      </mat-error>
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit" >
      Atualizar
    </button>

    <button mat-raised-button type="button" (click)="cancel()">
      Cancelar
    </button>

  </form>
</mat-card>
